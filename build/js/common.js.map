{"version":3,"names":[],"mappings":"","sources":["common.js"],"sourcesContent":["jQuery(document).ready(function ($) {\r\n\r\n    /**\r\n     * Меню\r\n     */\r\n\r\n    let menuA = $('#nav a');\r\n    menuA.each(function () {\r\n        if ($(this).next('ul').length) {\r\n            $(this).append(' <i class=\"icon-arr\"></i>')\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '#nav a', function (e) {\r\n        let $this = $(this);\r\n        let thisParent = $this.closest('li'),\r\n            ul = thisParent.find('> ul');\r\n        if (ul.length > 0) {\r\n            e.preventDefault();\r\n\r\n            if (thisParent.hasClass('active')) {\r\n                thisParent.removeClass('active')\r\n            } else {\r\n                thisParent.addClass('active').siblings().removeClass('active');\r\n            }\r\n\r\n            // if ($(window).width() < 1200) {\r\n            //     if (!ul.find('.btn-menu-back').length) {\r\n            //         ul.prepend('<li><button class=\"btn-menu-back\"><i class=\"icon-arr\"></i>' + $this.text() + '</button></li>');\r\n            //     }\r\n            // }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', function (e) {\r\n        hideElement($(e.target), '#nav', $('#nav li'));\r\n    });\r\n\r\n    $(document).on('click', '.btn-menu-back', function (e) {\r\n        $(this).closest('ul').closest('li').removeClass('active');\r\n    });\r\n\r\n    $('.btn-menu').on('click', function (e) {\r\n        e.preventDefault();\r\n        $(this).toggleClass('active').next().slideToggle();\r\n        $('#header').toggleClass('show-menu');\r\n    });\r\n\r\n    /**\r\n     * Поиск\r\n     */\r\n    let quickSearch = $('#quick-search');\r\n    $('.btn-show-search').on('click', function (e) {\r\n        quickSearch.addClass('active').find('input').focus();\r\n    });\r\n\r\n    quickSearch.find('input').on('blur', function (e) {\r\n        let $this = $(this);\r\n\r\n        setTimeout(function () {\r\n            quickSearch.removeClass('active');\r\n            $this.closest('form').find('.search-results').removeClass('active');\r\n        }, 1)\r\n    });\r\n\r\n    quickSearch.find('input').on('focus', function (e) {\r\n        $(this).closest('form').find('.search-results').addClass('active');\r\n    });\r\n\r\n\r\n    /**\r\n     * Слайдер на главной\r\n     */\r\n    $('#single-slider').slick({\r\n        dots: false,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        infinite: false,\r\n        autoplay: true,\r\n        autoplaySpeed: 5000,\r\n        fade: true,\r\n        cssEase: 'linear',\r\n        responsive: [\r\n            {\r\n                breakpoint: 1300,\r\n                settings: {\r\n                    arrows: false,\r\n                }\r\n            },\r\n        ]\r\n    });\r\n\r\n    /**\r\n     * Слайдер продуктов на главной\r\n     */\r\n    $('#slider-products-main').slick({\r\n        dots: false,\r\n        arrows: true,\r\n        speed: 500,\r\n        slidesToShow: 3,\r\n        slidesToScroll: 1,\r\n        infinite: false,\r\n        appendArrows: $('.slider-products-arrows'),\r\n        responsive: [\r\n            {\r\n                breakpoint: 768,\r\n                settings: {\r\n                    dots: true,\r\n                    arrows: false,\r\n                    slidesToShow: 1,\r\n                }\r\n            },\r\n        ]\r\n    });\r\n\r\n\r\n    /**\r\n     * Слайдер элементов\r\n     */\r\n    let sliderItems = $('.slider-items'),\r\n        sliderItemsSettings = {\r\n            dots: false,\r\n            arrows: true,\r\n            speed: 500,\r\n            slidesToShow: 4,\r\n            slidesToScroll: 1,\r\n            infinite: false,\r\n            responsive: [\r\n                {\r\n                    breakpoint: 1300,\r\n                    settings: {\r\n                        arrows: false,\r\n                        dots: true\r\n                    }\r\n                },\r\n                {\r\n                    breakpoint: 992,\r\n                    settings: {\r\n                        slidesToShow: 3,\r\n                        arrows: false,\r\n                        dots: true\r\n                    }\r\n                },\r\n                {\r\n                    breakpoint: 768,\r\n                    settings: {\r\n                        slidesToShow: 2,\r\n                        arrows: false,\r\n                        dots: true\r\n                    }\r\n                },\r\n                {\r\n                    breakpoint: 576,\r\n                    settings: {\r\n                        slidesToShow: 1,\r\n                        arrows: false,\r\n                        dots: true\r\n                    }\r\n                },\r\n            ]\r\n        }\r\n\r\n    sliderItems.slick(sliderItemsSettings);\r\n\r\n    /**\r\n     * Табы\r\n     */\r\n    $('.tabs').on('click', 'li:not(.active)', function () {\r\n        let $thisTab = $(this).addClass('active').siblings().removeClass('active').closest('.container').find('.tab-content').eq($(this).index());\r\n\r\n        let sliderItems = $thisTab.find('.slider-items');\r\n\r\n        $thisTab.fadeIn(150).siblings('.tab-content').hide();\r\n\r\n        if (sliderItems.length) {\r\n            sliderItems.slick('unslick');\r\n            sliderItems.slick(sliderItemsSettings)\r\n        }\r\n\r\n    });\r\n\r\n    $('.tabs-content').on('click', 'li:not(.active)', function () {\r\n        let $thisTab = $(this).addClass('active').siblings().removeClass('active').closest('.offer-details').find('.tab-content').eq($(this).index());\r\n\r\n        $thisTab.fadeIn(150).siblings('.tab-content').hide();\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * Селект\r\n     */\r\n    $('select').styler();\r\n\r\n    /**\r\n     * Дроп списки\r\n     */\r\n    $(document).on('click', '.btn-drop-toggle', function () {\r\n        $(this).toggleClass('active');\r\n        $(this).closest('div').siblings().find('.drop-list');\r\n        $(this).closest('div').find('.drop-list').toggleClass('active');\r\n    });\r\n\r\n    $(document).on('click input', function (event) {\r\n        if (check_drop_list($(event.target))) return;\r\n        $('.drop-list').removeClass('active');\r\n        $('.btn-drop-toggle').removeClass('active');\r\n        event.stopPropagation();\r\n    });\r\n\r\n    function check_drop_list(el) {\r\n        return el.hasClass(\"btn-drop-toggle\") || el.closest('.btn-drop-toggle').length || el.is('input') || el.closest('.drop-list').length;\r\n    }\r\n\r\n    /**\r\n     * Аккордион\r\n     */\r\n    $('.question').on('click', function () {\r\n        let thisParent = $(this).closest('.faq'),\r\n            otherParents = thisParent.siblings();\r\n        otherParents.find('.question').removeClass('active').next('.answer').slideUp();\r\n        thisParent.find('.question').toggleClass('active').next('.answer').slideToggle();\r\n    });\r\n\r\n    /**\r\n     * Ползунок в инпутах\r\n     */\r\n    $('.input-slider').each(function () {\r\n        let $this = $(this),\r\n            $input = $this.closest('.with-slider').find('input'),\r\n            min = $this.data('min'),\r\n            max = $this.data('max'),\r\n            value = $this.data('value'),\r\n            $join = $this.data('join');\r\n\r\n        $this.slider({\r\n            range: 'min',\r\n            animate: \"fast\",\r\n            min, max, value,\r\n            slide: function (event, ui) {\r\n                $input.val(ui.value + ' ' + $join);\r\n            }\r\n        });\r\n\r\n        $input.val($this.slider('value') + ' ' + $join);\r\n\r\n        $input.on('input', function () {\r\n            $this.slider('value', $(this).val());\r\n        });\r\n    });\r\n\r\n    /**\r\n     * Детали предложениея\r\n     */\r\n    $('.btn-offer-details').on('click',function (e) {\r\n        $(this).toggleClass('active').closest('.offer').find('.offer-details').slideToggle();\r\n    })\r\n});\r\n\r\n/**\r\n * Спрятать элемент по клику из вне\r\n */\r\nfunction hideElement(el, parent, elHide) {\r\n    if (!el.closest(parent).length) {\r\n        elHide.removeClass('active');\r\n    }\r\n}\r\n"],"file":"common.js"}